# 정규화

: 데이터 중복을 최소화하고, 이상 현상을 예방하며, 데이터베이스 구조 변경 시 재작업을 줄이는 목적으로 테이블을 구조화 하는 과정

1. 중복 최소화 : 불필요한 중복 데이터를 제거해 일관성 유지

2. 이상 현상 방지 : 삽입, 갱신, 삭제 작업 시 발생할 수 있는 불일치 문제 예방

3. 유연성 향상 : 데이터베이스 구조 변경 시 영향을 받는 영역을 최소화 하여 유지보수성을 높임 


### 이상 현상 

: 데이터베이스를 비정상적으로 설계했을 떄 중복된 데이터가 많아져 삽입, 갱신, 삭제 등의 연산에서 비일관성이 생기는 문제 

1. 삽입 이상 : 새로운 데이터를 삽입하기 위해 불필요한 데이터도 함께 삽입

2. 갱신 이상 : 중복된 데이터 중 일부만 변경되어 데이터 불일치 발생

3. 삭제 이상 : 어떤 데이터를 삭제할 떄 반드시 있어야 하는 정보까지 같이 삭제 


## 정규화 종류

1. 제 1 정규형 (1NF) : 각 요소의 **중복되는 항목이 없어야 한다**

2. 제 2 정규형 (2NF) : 제 1 정규형을 만족하면서 PK가 아닌 모든 속성이 PK에 **완전 함수 종속되어야 한다**

3. 제 3 정규형 (3NF) : 제 2 정규형을 만족하면서 모든 속성이 PK에 **이행적 함수 종속이 되지 않아야** 한다 

4. BCNF : 제 3 정규형을 만족하면서 **모든 결정자가 후보 키**여야 한다. 


### 제 1 정규형 

1. 각 속성(컬럼)이 원자 값, 즉 하나의 값만 가져야 함

2. 중복된 컬럼이 없어야 함

3. 각 행이 유일하게 식별될 수 있어야 함 (기본 키 존재)

예시)  어떤 컬럼이 여러개 값을 가질 수 밖에 없는 경우, 다른 컬럼을 참조하는 별도의 테이블로 분리 


### 제 2 정규형

1. 복합 키(2개 이상의 컬럼으로 이루어진 기본 키)를 사용하는 테이블에서 모든 비기본 키 속성이 기본 키의 모든 컬럼에 완전 종속되어야 함 

2. **부분 함수 종속** (기본 키의 일부 컬럼 만으로 해당 속성이 결정되는 것) 을 제거 

예시) 2개 이상의 컬럼을 가지는 기본 키를 테이블 분리, 비기본키들은 해당 기본키를 참조 


### 제 3 정규형

1. 기본 키에 대한 이행적 함수 종속( A->B, B->C 라면 A->C )이 없어야 함

2. 기본 키가 아닌 속성이 다른 속성에 의해 결정되지 않아야 함 

예시) 기본 키를 경유해 특정 컬럼이 다른 컬럼의 속성을 결정하는 경우 기본키를 참조하는 2개의 테이블로 분리 

### BCNF

1. 모든 결정자가 **후보 키** 여야 함

2. 3NF 이후에도 남아있는 이상현상 해결하는 엄격한 형태

3. 기본 키가 아닌 속성이 다른 컬럼을 결정할 수 없게끔 테이블을 분해 

후보 키 : 한 테이블의 각 행을 유이하게 식별할 수 있는 속성 중 최소성을 만족하는 키 

- 유일성 : 각 행을 고유하게 식별할 수 있어야 함

- 최소성 : 불필요한 컬럼을 포함하지 않는 최소한의 속성 조합이어야 함

예시 ) 주민등록번호, 학생번호 등 